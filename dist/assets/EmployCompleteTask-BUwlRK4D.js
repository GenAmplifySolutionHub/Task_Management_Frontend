import{s as f,H as E,J as m,K as b,r as t,a as e,j as l,N as D,B as c,T as p,q as B,P,Q as _,U as j,V as z,W as L,X as R,d as T}from"./vendor-DSVVCEiu.js";import{a as A}from"./styles-k6wuRl1O.js";import{D as I,a as N}from"./dataRenderLayoutAgent-Dq_HsDUY.js";import"./index-CisOp6jH.js";import"./sideNav-Cm1L2Tap.js";const a=f(E)(({theme:i})=>({[`&.${m.head}`]:{backgroundColor:"#f26729",color:"white",padding:"1em 8px"},[`&.${m.body}`]:{fontSize:12,padding:"px 8px"}})),u=f(b)(({theme:i})=>({"&:nth-of-type(odd)":{backgroundColor:i.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}));function K(){const[i,x]=t.useState([]),[F,y]=t.useState(null);t.useState(!1),t.useState(null);const[r,d]=t.useState(1),[s,H]=t.useState(5),[h,S]=t.useState(""),[g,C]=t.useState(0);t.useEffect(()=>{(async()=>{try{const o=await N(r,s,h);console.log("API Response:",o),x(o.tasks),C(o.total)}catch(o){y("Failed to fetch tasks."),console.error("Fetch error:",o)}})()},[r,s,h]);const v=n=>{S(n.target.value),d(1)},w=n=>n?new Date(n).toISOString().split("T")[0]:"";return e(I,{children:l(c,{sx:{width:"100%",paddingLeft:2,paddingRight:2,marginTop:1,overflow:"auto"},children:[e(D,{}),e(c,{sx:{display:"flex",flexDirection:"column"},children:l(A,{children:[e(p,{variant:"h6",component:"div",sx:{flex:"1 1 1",color:"black",marginLeft:"1em"},children:"Task List"}),e(B,{variant:"outlined",placeholder:"Search tasks...",value:h,size:"small",onChange:v,sx:{zIndex:200}})]})}),e(c,{sx:{display:"flex",justifyContent:"space-between"}}),l(c,{component:"main",sx:{flexGrow:1,bgcolor:"background.default",marginTop:"-4em",width:"100%"},children:[e(P,{}),e(_,{component:j,children:l(z,{sx:{minWidth:700},"aria-label":"customized table",children:[e(L,{children:l(b,{children:[e(a,{children:"S.No"}),e(a,{align:"center",children:"Task"}),e(a,{align:"center",children:"Start Time"}),e(a,{align:"center",children:"End Date"}),e(a,{align:"center",children:"End Time"}),e(a,{align:"center",children:"Task Status"})]})}),e(R,{children:i.length>0?i.map((n,o)=>l(u,{children:[l(a,{component:"th",scope:"row",children:[o+1+(r-1)*s," "]}),e(a,{align:"center",children:n==null?void 0:n.Task_Details}),e(a,{align:"center",children:n==null?void 0:n.Start_Time}),e(a,{align:"center",children:w(n==null?void 0:n.End_Date)}),e(a,{style:{textAlign:"center"},children:n==null?void 0:n.End_Time}),e(a,{align:"center",children:n==null?void 0:n.Status})]},n.Task_details_Id)):e(u,{children:e(a,{colSpan:6,align:"center",children:e(p,{variant:"body1",children:"No tasks found."})})})})]})}),e(c,{sx:{display:"flex",justifyContent:"center",marginTop:2},children:l(p,{variant:"body2",component:"div",children:[e(T,{disabled:r===1,onClick:()=>d(r-1),children:"Previous"}),"Page ",r," of ",Math.ceil(g/s)," | Total Tasks: ",g,e(T,{disabled:i.length<s,onClick:()=>d(r+1),children:"Next"})]})})]})]})})}export{K as default};
