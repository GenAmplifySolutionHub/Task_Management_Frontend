import{u as C,e as T,f as I,R as D,j as p,a as t,i as O,D as L,L as N,B as m,g as R,h as j,r as u,G as x,k as M,c as E,l as z,ak as k}from"./vendor-DSVVCEiu.js";import{f as S}from"./index-CisOp6jH.js";function y(w){const c=C(),i=T(),{darkMode:b,routes:r,showMiniNav:l,setShowMiniNav:d}=w;I();const{currentTab:o,setCurrentTab:h}=S();D.useEffect(()=>{if((r==null?void 0:r.length)>0){const n=r.find(e=>i.pathname.includes(e.path));n&&n.id!==o&&(h(n.id),localStorage.setItem("currentTab",JSON.stringify(n.id)))}},[i,r,o,h]);const g=(n,e)=>{localStorage.setItem("currentTab",JSON.stringify(n)),h(n),c(`${e}`)},f=n=>{var s;const{item:e}=n,a=o===(e==null?void 0:e.id)||!o&&((s=r[-1])==null?void 0:s.id)===(e==null?void 0:e.id);return p(j,{onClick:()=>g(e==null?void 0:e.id,e==null?void 0:e.path),component:"li",sx:{width:"100%",background:a?"linear-gradient(to right, #f26729 2%, #333333 1%)":"transparent",clipPath:a?"polygon(0 0, 10% , 20% 100%, 0 100%)":"none",height:"40px",marginBottom:"10px",gap:2,cursor:"pointer",color:a?"grey":"black","&:hover":{backgroundColor:a?"grey":"#333333",color:"black"}},children:[t(m,{sx:{color:a?"white":"inherit",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{color:"white"}},children:e==null?void 0:e.icon}),t(R,{primary:e==null?void 0:e.name,sx:{fontSize:"20px",textTransform:"capitalize",whiteSpace:"nowrap",color:"white",overflow:"hidden",textOverflow:"ellipsis","&:hover":{color:"white"}}})]},e==null?void 0:e.id)};return p(m,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"92vh",boxShadow:"0rem 1.25rem 1.6875rem 0rem rgba(0, 0, 0, 0.05)",position:l?"absolute":"relative",zIndex:"1000",width:"100%",backgroundColor:"#29315a"},children:[l&&t(O,{sx:{color:"white",alignSelf:"flex-end"},onClick:()=>d(!l)}),t(L,{sx:{borderColor:"gray",width:"100%"}}),t(N,{sx:{width:"100%",gap:20,background:"#29315a"},children:r==null?void 0:r.map(n=>t(f,{item:n}))})]})}function A({children:w}){const c=[{id:1,name:"Task",path:"/org-dashboard/task-table",icon:t(m,{sx:{display:"flex",alignItems:"center",justifyContent:"center","&:hover svg":{color:"white"}},children:t(k,{})})},{id:2,name:"Own Task",path:"/org-dashboard/own-task",icon:t(m,{sx:{display:"flex",alignItems:"center",justifyContent:"center","&:hover svg":{color:"white"}},children:t(k,{})})}],{darkMode:i,activeTab:b,setActiveTab:r,showMiniNav:l,setShowMiniNav:d}=S(),o=u.useRef(null),[h,g]=u.useState(!1);u.useEffect(()=>{const a=()=>{if(o.current){const{scrollTop:v}=o.current;v>1?(g(!0),console.log(`on:${v}`)):(g(!1),console.log(`off:${v}`))}},s=o.current;return s&&s.addEventListener("scroll",a),()=>{s&&s.removeEventListener("scroll",a)}},[]);const[f,n]=u.useState(!1),e=()=>{n(!f)};return p(x,{ref:o,container:!0,sx:{overflow:"auto",background:i?"#010101":"#fff",height:""},children:[t(x,{item:!0,xs:0,md:0,lg:2.5,sx:{display:{xs:"none",md:"none",lg:"block"},position:"sticky",top:0,height:"100vh",zIndex:1e3},children:t(y,{darkMode:i,activeTab:b,setActiveTab:r,routes:c,showMiniNav:l,setShowMiniNav:d})}),p(x,{item:!0,xs:4,md:4,lg:0,sx:{display:{xs:"block",lg:"none"},mt:2,ml:2,mb:5},children:[t(E,{edge:"start",color:"inherit","aria-label":"menu",onClick:e,sx:{ml:2,alignItems:"center"},children:t(M,{sx:{color:"#29315a"}})}),t(z,{anchor:"left",open:f,onClose:e,sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:250,mt:6}},children:t(y,{darkMode:i,activeTab:b,setActiveTab:r,routes:c,showMiniNav:l,setShowMiniNav:d})})]}),t(x,{item:!0,xs:12,md:12,lg:9.5,sx:{display:"flex",justifyContent:"center",alignItems:"flex-start",m:0,p:0},children:w})]})}export{A as D};
