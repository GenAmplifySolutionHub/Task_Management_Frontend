import{u as S,e as T,f as C,R as I,j as x,a as t,i as D,D as L,L as N,B as w,g as O,h as R,r as f,G as p,k as M,c as E,l as j,ag as z}from"./vendor-n5dB3UuQ.js";import{u as y}from"./index-Dh4pOBYX.js";function k(m){const c=S(),i=T(),{darkMode:v,routes:o,showMiniNav:l,setShowMiniNav:d}=m;C();const{currentTab:n,setCurrentTab:h}=y();I.useEffect(()=>{if((o==null?void 0:o.length)>0){const r=o.find(e=>i.pathname.includes(e.path));r&&r.id!==n&&(h(r.id),localStorage.setItem("currentTab",JSON.stringify(r.id)))}},[i,o,n,h]);const g=(r,e)=>{localStorage.setItem("currentTab",JSON.stringify(r)),h(r),c(`${e}`)},u=r=>{var s;const{item:e}=r,a=n===(e==null?void 0:e.id)||!n&&((s=o[-1])==null?void 0:s.id)===(e==null?void 0:e.id);return x(R,{onClick:()=>g(e==null?void 0:e.id,e==null?void 0:e.path),component:"li",sx:{width:"100%",background:a?"linear-gradient(to right, #f26729 2%, #333333 1%)":"transparent",clipPath:a?"polygon(0 0, 10% , 20% 100%, 0 100%)":"none",height:"40px",marginBottom:"10px",gap:2,cursor:"pointer",color:a?"grey":"black","&:hover":{backgroundColor:a?"grey":"#333333",color:"black"}},children:[t(w,{sx:{color:a?"white":"inherit",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{color:"white"}},children:e==null?void 0:e.icon}),t(O,{primary:e==null?void 0:e.name,sx:{fontSize:"20px",textTransform:"capitalize",whiteSpace:"nowrap",color:"white",overflow:"hidden",textOverflow:"ellipsis","&:hover":{color:"white"}}})]},e==null?void 0:e.id)};return x(w,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"92vh",boxShadow:"0rem 1.25rem 1.6875rem 0rem rgba(0, 0, 0, 0.05)",position:l?"absolute":"relative",zIndex:"1000",width:"100%",backgroundColor:"#29315a"},children:[l&&t(D,{sx:{color:"white",alignSelf:"flex-end"},onClick:()=>d(!l)}),t(L,{sx:{borderColor:"gray",width:"100%"}}),t(N,{sx:{width:"100%",gap:20,background:"#29315a"},children:o==null?void 0:o.map(r=>t(u,{item:r}))})]})}function $({children:m}){const c=[{id:1,name:"Task",path:"/org-dashboard/task-table",icon:t(w,{sx:{display:"flex",alignItems:"center",justifyContent:"center","&:hover svg":{color:"white"}},children:t(z,{})})}],{darkMode:i,activeTab:v,setActiveTab:o,showMiniNav:l,setShowMiniNav:d}=y(),n=f.useRef(null),[h,g]=f.useState(!1);f.useEffect(()=>{const a=()=>{if(n.current){const{scrollTop:b}=n.current;b>1?(g(!0),console.log(`on:${b}`)):(g(!1),console.log(`off:${b}`))}},s=n.current;return s&&s.addEventListener("scroll",a),()=>{s&&s.removeEventListener("scroll",a)}},[]);const[u,r]=f.useState(!1),e=()=>{r(!u)};return x(p,{ref:n,container:!0,sx:{overflow:"auto",background:i?"#010101":"#fff",height:"100vh"},children:[t(p,{item:!0,xs:0,md:0,lg:2.5,m:0,p:0,sx:{display:{xs:"none",md:"none",lg:"block"},position:"sticky",top:0,height:"100vh",zIndex:1e3},children:t(k,{darkMode:i,activeTab:v,setActiveTab:o,routes:c,showMiniNav:l,setShowMiniNav:d})}),x(p,{item:!0,xs:4,md:4,height:50,lg:0,sx:{display:{marginBottom:"-3em",xs:"block",lg:"none"}},children:[t(E,{edge:"start",color:"inherit","aria-label":"menu",onClick:e,sx:{ml:2,alignItems:"center",textAlign:"right"},children:t(M,{sx:{color:"#29315a"}})}),t(j,{anchor:"left",open:u,onClose:e,sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:250,mt:6}},children:t(k,{darkMode:i,activeTab:v,setActiveTab:o,routes:c,showMiniNav:l,setShowMiniNav:d})})]}),t(p,{item:!0,xs:12,md:12,lg:9.5,sx:{marginTop:""},m:0,p:0,children:m})]})}export{$ as D};
