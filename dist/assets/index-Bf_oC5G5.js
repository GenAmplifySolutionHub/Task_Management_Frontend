const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/sideNav-D1tZY_in.js","assets/vendor-BtQO_-CK.js","assets/ProjectMember-jwCa1Jju.js","assets/styles-sAMJ7xpl.js","assets/TaskCreation-DGoA6Zwi.js","assets/TaskRoutes-BqEM3_Xu.js","assets/dataRenderLayoutOrg--tDZst3Y.js","assets/EmployTaskTable-CbBb2Rya.js","assets/dataRenderLayoutAgent-DVtutVHS.js","assets/TaskDetails-DkL2ZRAh.js","assets/EmployCompleteTask-CqyyFMJy.js","assets/EmployeTable-CQWKG4y-.js","assets/LoginPage-G0Pee_MB.js","assets/TeamLeadTaskTable-D9UL4Tp1.js"])))=>i.map(i=>d[i]);
import{r as c,j as p,a as e,D as W,b as de,c as U,d as Y,B as k,e as H,s as _,f as g,T as $,u as V,g as F,h as w,I as O,R as b,O as X,S as Z,i as Ce,G as R,k as ke,l as Te,L as Ee,m as Pe,n as De,o as Ae,p as je,q as Ie,t as _e,F as ae,v as Le,w as Ne,x as re,y as he,z as $e,A as Me,C as Oe,M as se,E as A,H as ze,J as ie,K as ue,N as Re,P as Be,Q as Fe,U as We,V as Ue,W as Ye,X as He,Y as Ve,Z as qe,_ as Ge,$ as Je,a0 as Ke,a1 as P,a2 as J,a3 as Qe,a4 as Xe}from"./vendor-BtQO_-CK.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function l(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(n){if(n.ep)return;n.ep=!0;const t=l(n);fetch(n.href,t)}})();const Ze="modulepreload",et=function(o){return"/"+o},le={},I=function(a,l,r){let n=Promise.resolve();if(l&&l.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),s=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.all(l.map(i=>{if(i=et(i),i in le)return;le[i]=!0;const d=i.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Ze,d||(m.as="script",m.crossOrigin=""),m.href=i,s&&m.setAttribute("nonce",s),document.head.appendChild(m),d)return new Promise((y,h)=>{m.addEventListener("load",y),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})}))}return n.then(()=>a()).catch(t=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=t,window.dispatchEvent(s),!s.defaultPrevented)throw t})},pe=c.createContext(null),me=()=>{const o=c.useContext(pe);if(!o)throw new Error("useAppContext must be used within an AppContextProvider");return o},ee=({open:o,onClose:a,onConfirm:l})=>p(H,{open:o,onClose:a,children:[e(W,{children:"Confirm Logout"}),e(U,{children:e(de,{children:"Are you sure you want to log out?"})}),p(Y,{children:[e(k,{onClick:a,color:"primary",children:"Cancel"}),e(k,{onClick:l,color:"secondary",children:"Logout"})]})]}),j="https://tms-backed-prod.vercel.app/api/v1",E="faf61ac9d4fdb0000025bdf7375e4fc90200123",M="faf61ac9d4fdb0000025bdf7375e4fc90200456",B="faf61ac9d4fdb0000025bdf7375e4fc90200789",tt=_(g)({display:"flex",height:"8vh",alignItems:"center",justifyContent:"space-between",background:"#29315a",padding:"0 2rem",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"}),nt=_($)({fontSize:"24px",color:"white",fontWeight:"bold",textTransform:"uppercase"}),ot=()=>{w.get(E)?w.remove(E):w.get(M)?w.remove(M):w.get(B)&&w.remove(B)},at=()=>{const[o,a]=c.useState(!1),l=V();return p(tt,{children:[e(nt,{variant:"h6",children:"Manager"}),e(F,{title:"Logout",children:e(k,{variant:"contained",color:"secondary",onClick:()=>{a(!0)},children:"Logout"})}),e(ee,{open:o,onClose:()=>{a(!1)},onConfirm:()=>{ot(),a(!1),l("/login")}})]})};function rt(o){const[a,l]=c.useState(1),[r,n]=c.useState(!1),[t,s]=c.useState(!1),[i,d]=c.useState(""),[f,m]=c.useState(5e7),y=e(b.Fragment,{children:e(O,{size:"small","aria-label":"close",color:"inherit",onClick:()=>s(!t),children:e(k,{children:"close"})})}),h=[{id:1,name:"dashboard",path:"/"},{id:2,name:"Users",path:"/admin-dashboard/users"},{id:12,name:"Filed Executive",path:"/admin-dashboard/field-executive"},{id:3,name:"Country Master",path:"/admin-dashboard/country"},{id:4,name:"State Master",path:"/admin-dashboard/state"},{id:5,name:"District Master",path:"/admin-dashboard/district"},{id:6,name:"Parliment Master",path:"/admin-dashboard/parliment"},{id:7,name:"Assembly Master",path:"/admin-dashboard/assembly"},{id:8,name:"Mandal Master",path:"/admin-dashboard/mandal"},{id:9,name:"Polling Station Master",path:"/admin-dashboard/polling-station"},{id:10,name:"Task Creation Master",path:"/admin-dashboard/task-creation"},{id:11,name:"Task Allocation",path:"/admin-dashboard/task-allocation"}];function T(u){const S=["http://localhost:3001","'http://localhost:5173'"];for(const C of S)if(u.startsWith(C)){let x=u.substring(C.length);return x.endsWith("/")&&(x=x.slice(0,-1)),x}return u}return c.useEffect(()=>{const u=window.location.href,S=T(u);console.log(S);const C=h==null?void 0:h.find(x=>{var L;return(L=x==null?void 0:x.path)==null?void 0:L.includes(S)});l(C==null?void 0:C.id)},[]),p(pe.Provider,{value:{currentTab:a,setCurrentTab:l,navigationArray:h,hideDurationNotifier:f,setHiderDurationNotifier:m,notifyMessage:i,setNotifyMessage:d,openNotifer:t,setOpenNotifier:s,showMiniNav:r,setShowMiniNav:n},children:[p(g,{sx:{display:"flex",flexDirection:"column",width:"100%",height:"100vh",overflow:"hidden"},children:[e(at,{}),e(g,{sx:{height:"92vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:e(X,{})})]}),e(Z,{open:t,autoHideDuration:f,onClose:()=>s(!t),message:i,action:y})]})}const ge=c.createContext(null),$t=()=>{const o=c.useContext(ge);if(!o)throw new Error("useAppContext must be used within an AppContextProvider");return o},st=_(g)({display:"flex",height:"8vh",alignItems:"center",justifyContent:"space-between",background:"#29315a",padding:"0 2rem",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"}),it=_($)({fontSize:"24px",color:"white",fontWeight:"bold",textTransform:"uppercase"});_(Ce)({color:"white",marginLeft:"0.5rem","& .MuiInputBase-input":{padding:"0.5rem",color:"white"},"& .MuiInputBase-input::placeholder":{color:"#B0B0B0"}});const lt=()=>{const[o,a]=c.useState(!1);return p(st,{children:[e(it,{variant:"h6",children:"Team Lead"}),e(g,{children:e(F,{title:"Logout",children:e(k,{variant:"contained",color:"secondary",onClick:()=>a(!0),children:"Logout"})})}),e(ee,{open:o,onClose:()=>a(!1),onConfirm:()=>{w.remove(M),window.location.href="/login"}})]})};function ct(o){const[a,l]=c.useState(1),[r,n]=c.useState(!1),[t,s]=c.useState(!1),[i,d]=c.useState(""),[f,m]=c.useState(5e7),y=e(b.Fragment,{children:e(O,{size:"small","aria-label":"close",color:"inherit",onClick:()=>s(!t),children:e(k,{children:"close"})})}),h=[{id:1,name:"dashboard",path:"/"},{id:2,name:"Users",path:"/admin-dashboard/users"},{id:12,name:"Filed Executive",path:"/admin-dashboard/field-executive"},{id:3,name:"Country Master",path:"/admin-dashboard/country"},{id:4,name:"State Master",path:"/admin-dashboard/state"},{id:5,name:"District Master",path:"/admin-dashboard/district"},{id:6,name:"Parliment Master",path:"/admin-dashboard/parliment"},{id:7,name:"Assembly Master",path:"/admin-dashboard/assembly"},{id:8,name:"Mandal Master",path:"/admin-dashboard/mandal"},{id:9,name:"Polling Station Master",path:"/admin-dashboard/polling-station"},{id:10,name:"Task Creation Master",path:"/admin-dashboard/task-creation"},{id:11,name:"Task Allocation",path:"/admin-dashboard/task-allocation"}];function T(u){const S=["http://localhost:3001","'http://localhost:5173'"];for(const C of S)if(u.startsWith(C)){let x=u.substring(C.length);return x.endsWith("/")&&(x=x.slice(0,-1)),x}return u}return c.useEffect(()=>{const u=window.location.href,S=T(u);console.log(S);const C=h==null?void 0:h.find(x=>{var L;return(L=x==null?void 0:x.path)==null?void 0:L.includes(S)});l(C==null?void 0:C.id)},[]),p(ge.Provider,{value:{currentTab:a,setCurrentTab:l,navigationArray:h,hideDurationNotifier:f,setHiderDurationNotifier:m,notifyMessage:i,setNotifyMessage:d,openNotifer:t,setOpenNotifier:s,showMiniNav:r,setShowMiniNav:n},children:[p(g,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[e(lt,{}),e(R,{container:!0,sx:{minHeight:"90vh",background:"#fff",overflow:"auto"},children:e(X,{})})]}),e(Z,{open:t,autoHideDuration:f,onClose:()=>s(!t),message:i,action:y})]})}const fe=c.createContext(null),Mt=()=>{const o=c.useContext(fe);if(!o)throw new Error("useAppContext must be used within an AppContextProvider");return o},dt=_(g)({display:"flex",height:"8vh",alignItems:"center",justifyContent:"space-between",background:"#29315a",padding:"0 2rem",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"}),ht=_($)({fontSize:"24px",color:"white",fontWeight:"bold",textTransform:"uppercase"}),ut=()=>{const[o,a]=c.useState(!1);return p(dt,{children:[e(ht,{variant:"h6",children:"Employee"}),e(F,{title:"Logout",children:e(k,{variant:"contained",color:"secondary",onClick:()=>a(!0),children:"Logout"})}),e(ee,{open:o,onClose:()=>a(!1),onConfirm:()=>{w.remove("employeeCookies"),window.location.href="/login"}})]})};function pt(){const[o,a]=c.useState(1),[l,r]=c.useState(!1),[n,t]=c.useState(!1),[s,i]=c.useState(""),[d,f]=c.useState(5e7),m=e(b.Fragment,{children:e(O,{size:"small","aria-label":"close",color:"inherit",onClick:()=>t(!n),children:e(k,{children:"close"})})}),y=[{id:1,name:"Pendingtask",path:"/employee-task/EmployTask"},{id:2,name:"Completedtask",path:"/employee-task/CompletedTask"}];return p(fe.Provider,{value:{currentTab:o,setCurrentTab:a,hideDurationNotifier:d,navigationArray:y,setHiderDurationNotifier:f,notifyMessage:s,setNotifyMessage:i,openNotifer:n,setOpenNotifier:t,showMiniNav:l,setShowMiniNav:r},children:[p(g,{sx:{display:"flex",flexDirection:"column",width:"100%",height:"100vh",overflow:"hidden"},children:[e(ut,{}),e(g,{sx:{height:"92vh",display:"flex",flexDirection:"column",overflow:"hidden"},children:e(X,{})})]}),e(Z,{open:n,autoHideDuration:d,onClose:()=>t(!n),message:s,action:m})]})}function Q(o){const a=V(),l=ke(),{darkMode:r,routes:n,showMiniNav:t,setShowMiniNav:s}=o;Te();const{currentTab:i,setCurrentTab:d}=me();b.useEffect(()=>{if((n==null?void 0:n.length)>0){const y=n.find(h=>l.pathname.startsWith(h.path));y&&y.id!==i&&(d(y.id),localStorage.setItem("currentTab",JSON.stringify(y.id)))}},[l.pathname,n,i,d]);const f=(y,h)=>{localStorage.setItem("currentTab",JSON.stringify(y)),d(y),a(`${h}`)},m=y=>{var u;const{item:h}=y,T=i===(h==null?void 0:h.id)||!i&&((u=n[0])==null?void 0:u.id)===(h==null?void 0:h.id);return p(De,{onClick:()=>f(h==null?void 0:h.id,h==null?void 0:h.path),component:"li",sx:{width:"100%",background:T?"linear-gradient(to right, #f26729 2%, #333333 1%)":"transparent",clipPath:T?"polygon(0 0, 10% , 20% 100%, 0 100%)":"none",height:"40px",marginBottom:"10px",gap:2,cursor:"pointer",color:T?"grey":"black","&:hover":{backgroundColor:T?"grey":"#333333",color:"black"}},children:[e(g,{sx:{color:T?"white":"inherit",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{color:"white"}},children:h==null?void 0:h.icon}),e(Pe,{primary:h==null?void 0:h.name,sx:{fontSize:"20px",textTransform:"capitalize",whiteSpace:"nowrap",color:"white",overflow:"hidden",textOverflow:"ellipsis","&:hover":{color:"white"}}})]},h==null?void 0:h.id)};return p(g,{sx:{display:"flex",flexDirection:"column",alignItems:"center",height:"92vh",boxShadow:"0rem 1.25rem 1.6875rem 0rem rgba(0, 0, 0, 0.05)",position:t?"absolute":"relative",zIndex:"1000",width:"100%",backgroundColor:"#0A152F"},children:[t&&e(Ae,{sx:{color:"white",alignSelf:"flex-end"},onClick:()=>s(!t)}),e(je,{sx:{borderColor:"gray",width:"100%"}}),p(Ee,{sx:{width:"100%",height:"100%",gap:2,background:"#29315a"},children:[" ",n==null?void 0:n.map(y=>e(m,{item:y},y.id))]})]})}const mt=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));function ye({children:o}){const a=[{id:1,name:"Projects",path:"/projects/project-table",icon:e(g,{sx:{display:"flex",alignItems:"center",justifyContent:"center","&:hover svg":{color:"white"}},children:e(ae,{})})},{id:2,name:"Employee",path:"/projects/Employee",icon:e(g,{sx:{display:"flex",alignItems:"center",justifyContent:"center","&:hover svg":{color:"white"}},children:e(ae,{})})}],{darkMode:l,activeTab:r,setActiveTab:n,showMiniNav:t,setShowMiniNav:s}=me(),i=c.useRef(null),[d,f]=c.useState(!1),[m,y]=c.useState(!1),h=()=>{y(!m)};return c.useEffect(()=>{const T=()=>{if(i.current){const{scrollTop:S}=i.current;S>1?(f(!0),console.log(`on:${S}`)):(f(!1),console.log(`off:${S}`))}},u=i.current;return u&&u.addEventListener("scroll",T),()=>{u&&u.removeEventListener("scroll",T)}},[]),p(R,{container:!0,sx:{height:"92vh",background:l?"#010101":"#fff",overflow:"hidden"},children:[e(R,{item:!0,xs:0,md:0,lg:2.5,m:0,p:0,sx:{display:{xs:"none",lg:"block"},height:"auto",overflow:"auto"},children:e(Q,{darkMode:l,activeTab:r,setActiveTab:n,routes:a,showMiniNav:t,setShowMiniNav:s})}),p(R,{item:!0,xs:12,md:12,lg:0,sx:{display:{xs:"block",lg:"none"}},children:[e(O,{edge:"start",color:"inherit","aria-label":"menu",onClick:h,sx:{ml:2,alignItems:"center",textAlign:"right"},children:e(Ie,{sx:{color:"#29315a"}})}),e(_e,{anchor:"left",open:m,onClose:h,sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:250,mt:6}},children:e(Q,{darkMode:l,activeTab:r,setActiveTab:n,routes:a,showMiniNav:t,setShowMiniNav:s})})]}),e(R,{item:!0,xs:12,md:12,lg:9.5,sx:{ml:{lg:"auto"},overflowY:"auto",height:"92vh"},ref:i,children:o})]})}const gt=()=>e(ye,{children:e("div",{children:e("h1",{children:" Hi hello How are you"})})}),ft=({open:o,onClose:a,onSubmit:l})=>{const r=Le({initialValues:{projectName:"",Status:""},validationSchema:Ne({projectName:re().required("Project Name is required"),Status:re().required("Status is required")}),onSubmit:t=>{l(t),r.resetForm(),a()}}),n=()=>{r.resetForm(),a()};return p(H,{open:o,onClose:n,children:[e(W,{children:"Add Project"}),e(U,{children:p("form",{onSubmit:r.handleSubmit,children:[e(he,{fullWidth:!0,id:"projectName",name:"projectName",label:"Project Name",value:r.values.projectName,onChange:r.handleChange,error:r.touched.projectName&&!!r.errors.projectName,helperText:r.touched.projectName&&r.errors.projectName,margin:"dense",onBlur:r.handleBlur}),p($e,{fullWidth:!0,margin:"dense",error:r.touched.Status&&!!r.errors.Status,children:[e(Me,{id:"Status-label",children:"Project Status"}),p(Oe,{labelId:"Status-label",id:"Status",name:"Status",value:r.values.Status,onChange:r.handleChange,label:"Project Status",onBlur:r.handleBlur,children:[e(se,{value:"Active",children:"Active"}),e(se,{value:"Inactive",children:"Inactive"})]}),r.touched.Status&&r.errors.Status&&e("div",{style:{marginLeft:"1.4em",color:"#d32f2f",fontSize:"12px"},children:r.errors.Status})]})]})}),p(Y,{children:[e(k,{onClick:n,color:"secondary",children:"Cancel"}),e(k,{onClick:r.submitForm,color:"primary",children:"Submit"})]})]})},yt=async(o,a,l,r)=>{var t,s,i;const n=w.get(E);try{return(await A.get(`${j}/GetProject/projects`,{headers:{Authorization:`Bearer ${n}`},params:{page:a,pageSize:l,search:r}})).data}catch(d){throw((t=d.response)==null?void 0:t.status)===401&&o("Your session has expired. Please log in again."),new Error(((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Error updating task")}},Ot=async(o,a,l,r,n)=>{var s,i,d;const t=w.get(E);try{return(await A.get(`${j}/ProjectEmployee/${o}`,{headers:{Authorization:`Bearer ${t}`},params:{page:a,pageSize:l,search:r}})).data}catch(f){throw((s=f.response)==null?void 0:s.status)===401&&n("Your session has expired. Please log in again."),new Error(((d=(i=f.response)==null?void 0:i.data)==null?void 0:d.message)||"Error updating task")}},zt=async(o,a,l,r)=>{var t,s,i;const n=w.get(E);try{return(await A.get(`${j}/Employee/GetEmployee1?page=${a}&limit=${l}&search=${encodeURIComponent(r)}`,{headers:{Authorization:`Bearer ${n}`}})).data}catch(d){throw((t=d.response)==null?void 0:t.status)===401&&o("Your session has expired. Please log in again."),new Error(((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Error updating task")}},Rt=async(o,a=1,l="")=>{var n,t,s;const r=w.get(E);try{return(await A.get(`${j}/Employee/GetEmployee`,{headers:{Authorization:`Bearer ${r}`},params:{page:a,searchTerm:l}})).data}catch(i){throw((n=i.response)==null?void 0:n.status)===401&&o("Your session has expired. Please log in again."),new Error(((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.message)||"Error updating task")}},Bt=async(o,a,l,r,n)=>{var t,s,i;try{return(await A.post(`${j}/ProjectEmployee/${a}`,{Emp_Id:l,Role_Id:r,Degesination:n},{headers:{"Content-Type":"application/json"}})).data}catch(d){throw((t=d.response)==null?void 0:t.status)===401&&o("Your session has expired. Please log in again."),new Error(((i=(s=d.response)==null?void 0:s.data)==null?void 0:i.message)||"Error updating task")}},Ft=async(o,a,l,r)=>{var n,t,s;try{const i=w.get(E);return(await A.patch(`${j}/ProjectEmployee/${a}/${l}`,r,{headers:{Authorization:`Bearer ${i}`}})).data}catch(i){throw((n=i.response)==null?void 0:n.status)===401&&o("Your session has expired. Please log in again."),new Error(((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.message)||"Error updating task")}},Wt=async(o,a)=>{var r,n,t;const l=w.get(E);try{return(await A.post(`${j}/Employee/post`,a,{headers:{Authorization:`Bearer ${l}`}})).data}catch(s){throw((r=s.response)==null?void 0:r.status)===401&&o("Your session has expired. Please log in again."),new Error(((t=(n=s.response)==null?void 0:n.data)==null?void 0:t.message)||"Error updating member")}},bt=async(o,a)=>{var r,n,t;const l=w.get(E);try{return(await A.post(`${j}/GetProject/addProject`,a,{headers:{Authorization:`Bearer ${l}`}})).data}catch(s){throw((r=s.response)==null?void 0:r.status)===401&&o("Your session has expired. Please log in again."),new Error(((t=(n=s.response)==null?void 0:n.data)==null?void 0:t.message)||"Error adding task")}},wt=({open:o,onClose:a,message:l})=>{const r=V(),[n,t]=c.useState(10);return c.useEffect(()=>{let i;return o&&(t(10),i=window.setInterval(()=>{t(d=>d<=1?(window.clearInterval(i),r("/login"),0):d-1)},1e3)),()=>{i&&window.clearInterval(i)}},[o,r]),p(H,{open:o,onClose:a,children:[e(W,{children:"Warning"}),p(U,{children:[e($,{variant:"body1",children:l}),p($,{variant:"body2",children:["You will be redirected to the login page in ",n," seconds."]})]}),e(Y,{children:e(k,{onClick:()=>{a(),r("/login")},color:"primary",children:"Go to Login"})})]})},vt=()=>{const[o,a]=c.useState(!1),[l,r]=c.useState(""),n=V();return{showWarningDialog:d=>{r(d),a(!0)},DialogComponent:e(wt,{open:o,onClose:()=>{a(!1),r(""),n("/login")},message:l})}},Ut=async(o,a,l)=>{var n,t,s;const r=w.get(E);try{return(await A.delete(`${j}/projectEmployeeDelete/projectEmployee/${a}/${l}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(i){throw((n=i.response)==null?void 0:n.status)===401&&o("Your session has expired. Please log in again."),new Error(((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.message)||"Error updating task")}},St=async(o,a)=>{var r,n,t;const l=w.get(E);try{return(await A.delete(`${j}/projectDelete/projects/${a}`,{headers:{Authorization:`Bearer ${l}`}})).data}catch(s){throw((r=s.response)==null?void 0:r.status)===401&&o("Your session has expired. Please log in again."),new Error(((t=(n=s.response)==null?void 0:n.data)==null?void 0:t.message)||"Error updating task")}},Yt=async(o,a)=>{var r,n,t;const l=w.get(E);try{return(await A.delete(`${j}/employeeDelete/delete-employee/${a}`,{headers:{Authorization:`Bearer ${l}`}})).data}catch(s){throw((r=s.response)==null?void 0:r.status)===401&&o("Your session has expired. Please log in again."),new Error(((t=(n=s.response)==null?void 0:n.data)==null?void 0:t.message)||"Error updating task")}},D=_(ze)(({theme:o})=>({[`&.${ie.head}`]:{backgroundColor:"#f26729",color:"white",padding:"1em 8px"},[`&.${ie.body}`]:{fontSize:12,padding:"6px 8px"}})),ce=_(ue)(({theme:o})=>({"&:nth-of-type(odd)":{backgroundColor:o.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}));function xt(){const[o,a]=c.useState([]),[l,r]=c.useState(!0),[n,t]=c.useState(!1),[s,i]=c.useState(null),[d,f]=c.useState(""),[m,y]=c.useState(1),[h,T]=c.useState(5),[u,S]=c.useState(1),{showWarningDialog:C,DialogComponent:x}=vt(),[L,te]=c.useState(!1),[ne,oe]=c.useState(null),q=async(v=1,N="")=>{r(!0);try{const z=await yt(C,v,h,N);z.success&&(a(z.data),S(z.pagination.totalPages))}catch{i("Failed to fetch projects")}finally{r(!1)}};c.useEffect(()=>{q(m,d)},[m,d]);const be=async v=>{try{const N={Project_Name:v.projectName,Status:v.Status},z=await bt(C,N);q(m,d)}catch(N){console.error("Error adding project:",N)}},we=v=>{f(v.target.value),y(1)},ve=v=>v?new Date(v).toISOString().split("T")[0]:"",Se=v=>{oe(v),te(!0)},G=()=>{oe(null),te(!1)},xe=async()=>{if(ne)try{await St(C,ne.Project_Id),G(),q()}catch(v){console.error("Failed to delete employee:",v)}};return p(ye,{children:[p(g,{sx:{display:"flex",flexDirection:"column",width:"100%",paddingLeft:2,paddingRight:2,marginTop:-6,overflow:"auto"},children:[e(Re,{}),p(g,{sx:{display:"flex",justifyContent:"space-between",zIndex:200,marginTop:"4em",marginBottom:"-3em"},children:[e(he,{label:"Search Projects",variant:"outlined",value:d,onChange:we,size:"small"}),e(k,{variant:"contained",color:"primary",onClick:()=>t(!0),children:"Add Project"})]}),e(ft,{open:n,onClose:()=>t(!1),onSubmit:be}),p(g,{component:"main",sx:{flexGrow:1,bgcolor:"background.default",width:"100%"},children:[e(Be,{}),e(Ge,{component:Fe,children:p(We,{sx:{minWidth:700},"aria-label":"customized table",children:[e(Ue,{children:p(ue,{children:[e(D,{children:"S.No"}),e(D,{align:"center",children:"Project Name"}),e(D,{align:"center",children:"Created Date"}),e(D,{align:"center",children:"Status"}),e(D,{align:"center",children:"Actions"})]})}),e(Ye,{children:o.length>0?o.map((v,N)=>p(ce,{children:[e(D,{component:"th",scope:"row",children:N+1}),e(D,{align:"center",children:e(He,{style:{textDecoration:"none"},to:`/projects/project-member/${v.Project_Id}`,children:v==null?void 0:v.Project_Name})}),e(D,{align:"center",children:ve(v==null?void 0:v.createdAt)}),e(D,{align:"center",children:v==null?void 0:v.Status}),p(D,{align:"center",children:[e(F,{title:"Edit",placement:"top",children:e(O,{style:{marginRight:"5px"},children:e(Ve,{color:"blue"})})}),e(F,{title:"Delete",placement:"top",children:e(O,{onClick:()=>Se(v),children:e(qe,{color:"red"})})})]})]},v.Project_Id)):e(ce,{children:e(D,{colSpan:5,align:"center",children:e($,{variant:"body1",color:"textSecondary",children:"No projects found"})})})})]})}),e(g,{sx:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:2},children:p($,{variant:"body2",component:"div",children:[e(k,{disabled:m===1,onClick:()=>y(m-1),children:"Previous"}),"Page ",m," of ",u," | Total Projects: ",o.length,e(k,{disabled:o.length<h||m===u,onClick:()=>y(m+1),children:"Next"})]})}),p(H,{open:L,onClose:G,children:[e(W,{children:"Confirm Deletion"}),e(U,{children:e(de,{children:"Are you sure you want to delete this Project?"})}),p(Y,{children:[e(k,{onClick:G,color:"primary",children:"Cancel"}),e(k,{onClick:xe,color:"secondary",autoFocus:!0,children:"Delete"})]})]})]})]}),x]})}const K=()=>{let o="",a="";if(w.get(E)?(o=w.get(E),a="manager"):w.get(M)?(o=w.get(M),a="teamlead"):w.get(B)&&(o=w.get(B),a="member"),o){const l=Je(o),r=Date.now()/1e3;return l.exp<r?(a=="manager"?w.remove(E):a=="teamlead"?w.remove(M):a=="member"&&w.remove(B),!1):(console.log(a),a)}};b.lazy(()=>I(()=>import("./sideNav-D1tZY_in.js"),__vite__mapDeps([0,1])));b.lazy(()=>I(()=>Promise.resolve().then(()=>mt),void 0));const Ct=b.lazy(()=>I(()=>import("./ProjectMember-jwCa1Jju.js"),__vite__mapDeps([2,1,3]))),kt=b.lazy(()=>I(()=>import("./TaskCreation-DGoA6Zwi.js"),__vite__mapDeps([4,1,3,5,6]))),Tt=b.lazy(()=>I(()=>import("./EmployTaskTable-CbBb2Rya.js"),__vite__mapDeps([7,1,3,8,0,5]))),Et=b.lazy(()=>I(()=>import("./TaskDetails-DkL2ZRAh.js"),__vite__mapDeps([9,1,6,5]))),Pt=b.lazy(()=>I(()=>import("./EmployCompleteTask-CqyyFMJy.js"),__vite__mapDeps([10,1,3,8,0]))),Dt=b.lazy(()=>I(()=>import("./EmployeTable-CQWKG4y-.js"),__vite__mapDeps([11,1]))),At=b.lazy(()=>I(()=>import("./LoginPage-G0Pee_MB.js"),__vite__mapDeps([12,1]))),jt=b.lazy(()=>I(()=>import("./TeamLeadTaskTable-D9UL4Tp1.js"),__vite__mapDeps([13,1,3,5,6])));function It(){const[o,a]=c.useState(!1),l=Ke([{path:"projects",element:K()=="manager"?e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(rt,{darkMode:o,setDarkMode:a})}):e(J,{to:"/login"}),children:[{path:"",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(gt,{})})},{path:"project-table",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(xt,{})})},{path:"project-member/:id",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(Ct,{})})},{path:"Employee",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(Dt,{})})}]},{path:"org-dashboard",element:K()=="teamlead"?e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(ct,{darkMode:o,setDarkMode:a})}):e(J,{to:"/login"}),children:[{path:"task-table",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(kt,{})})},{path:"task-table/task-details/:Task_details_Id",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(Et,{})})},{path:"own-task",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(jt,{})})}]},{path:"employee-task",element:K()=="member"?e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(pt,{})}):e(J,{to:"/login"}),children:[{path:"EmployTask",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(Tt,{})})},{path:"CompletedTask",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(Pt,{})})}]},{path:"/login",element:e(b.Suspense,{fallback:e(g,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",padding:"2em",children:e(P,{})}),children:e(At,{})})}]);return e(Qe,{router:l})}const _t=c.createContext({superAdminToken:null,adminToken:null,userToken:null,agentToken:null,setSuperAdminToken:()=>{},setAdminToken:()=>{},setUserToken:()=>{},setAgentToken:()=>{}}),Lt=({children:o})=>{const[a,l]=c.useState(localStorage.getItem("superAdminToken")),[r,n]=c.useState(localStorage.getItem("adminToken")),[t,s]=c.useState(localStorage.getItem("userToken")),[i,d]=c.useState(localStorage.getItem("agentToken")),f=(u,S)=>{S?(localStorage.setItem(u,S),console.log(`Token set in localStorage for ${u}:`,S)):(localStorage.removeItem(u),console.log(`Token removed from localStorage for ${u}`))},m=u=>{l(u),f("superAdminToken",u)},y=u=>{n(u),f("adminToken",u)},h=u=>{s(u),f("userToken",u)},T=u=>{d(u),f("agentToken",u)};return e(_t.Provider,{value:{superAdminToken:a,adminToken:r,userToken:t,agentToken:i,setSuperAdminToken:m,setAdminToken:y,setUserToken:h,setAgentToken:T},children:o})};Xe.createRoot(document.getElementById("root")).render(e(Lt,{children:e(It,{})}));export{j as A,ye as D,Bt as a,Ot as b,Mt as c,Ut as d,zt as e,Wt as f,Rt as g,Yt as h,E as i,$t as j,B as m,Ft as p,M as t,vt as u};
