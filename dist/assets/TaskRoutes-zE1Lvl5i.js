import{h as p,E as d}from"./vendor-BtQO_-CK.js";import{t as h,A as u,m}from"./index-DhadXiQK.js";const T=async(t,r,s,e)=>{var a;const n=p.get(h);try{return(await d.get(`${u}/TaskRoutes/tasks`,{params:{search:t,page:r,limit:s},headers:{Authorization:`Bearer ${n}`}})).data}catch(o){const c=(a=o.response)==null?void 0:a.status;throw e(c===401?"Your session has expired. Please log in again.":"An error occurred while fetching tasks."),o}},w=async t=>{var s;const r=p.get(h);try{return(await d.post(`${u}/TaskRoutes/CreateTask`,t,{headers:{Authorization:`Bearer ${r}`}})).data}catch(e){throw((s=e.response)==null?void 0:s.data)||"Error creating task"}},E=async(t,r="",s=10,e=0)=>{const n=p.get(h);try{return(await d.get(`${u}/TaskRoutes/project-employees/${t}/exclude`,{headers:{Authorization:`Bearer ${n}`},params:{search:r,limit:s,offset:e}})).data}catch(a){throw console.error("Error fetching project employees:",a),a}},f=async(t,r)=>{var n,a;const s=new FormData;s.append("file",r);const e=p.get(h);try{return(await d.post(`${u}/TaskRoutes/importTasks/${t}`,s,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}})).data}catch(o){throw new Error(((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.message)||"Error importing tasks")}},A=async t=>{var s;const r=p.get(h);try{return(await d.get(`${u}/TaskRoutes/task-details/${t}`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(e){throw console.error("Error fetching task details:",e),((s=e.response)==null?void 0:s.data)||"Error fetching task details"}},R=async(t,r,s,e,n)=>{var o,c;const a=p.get(m);try{return(await d.put(`${u}/EmployeTaskRoute/UpdateTask/${t}`,{Status:r,Remarks:s,Actual_Start_Date:e,Actual_Start_Time:n},{headers:{Authorization:`Bearer ${a}`}})).data}catch(i){throw new Error(((c=(o=i.response)==null?void 0:o.data)==null?void 0:c.message)||"Error updating task")}},B=async(t,r)=>{const s=p.get(h);try{return(await d.patch(`${u}/TaskRoutes/UpdateTask/${t}`,r,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data}catch(e){throw new Error(e.response.data.message||"Error updating task")}},z=async(t,r,s,e)=>{var o,c;const n=p.get(h),a=`${u}/TaskRoutes/assigned?page=${t}&limit=${r}&search=${s}`;console.log(`Fetching tasks from: ${a}`);try{return(await d.get(a,{headers:{Authorization:`Bearer ${n}`}})).data}catch(i){const k=(o=i.response)==null?void 0:o.status;throw e(k===401?"Your session has expired. Please log in again.":"An error occurred while fetching tasks."),((c=i.response)==null?void 0:c.data)||"Error fetching tasks"}},x=async(t,r,s,e,n,a)=>{var c,i,k;const o=p.get(h);try{return(await d.put(`${u}/TaskRoutes/UpdateTask/${t}`,{Status:r,Remarks:s,Actual_Start_Date:e,Actual_Start_Time:n},{headers:{Authorization:`Bearer ${o}`}})).data}catch(g){throw((c=g.response)==null?void 0:c.status)===401&&a("Your session has expired. Please log in again."),new Error(((k=(i=g.response)==null?void 0:i.data)==null?void 0:k.message)||"Error updating task")}};export{T as a,R as b,w as c,A as d,z as e,x as f,E as g,f as i,B as u};
