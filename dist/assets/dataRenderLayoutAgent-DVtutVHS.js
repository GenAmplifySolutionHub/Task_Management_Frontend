import{h as v,E as w,r as d,j as x,a as s,G as g,q as b,I as T,t as $}from"./vendor-BtQO_-CK.js";import{m as y,A as E,c as S}from"./index-Bf_oC5G5.js";import k from"./sideNav-D1tZY_in.js";const I=async(i,t,o)=>{var e;const a=v.get(y),r=`${E}/EmployeTaskRoute/assigned?page=${i}&limit=${t}&search=${o}`;console.log(`Fetching tasks from: ${r}`);try{return(await w.get(r,{headers:{Authorization:`Bearer ${a}`}})).data}catch(n){throw console.error("Error fetching tasks:",n),((e=n.response)==null?void 0:e.data)||"Error fetching tasks"}},L=async(i,t,o)=>{var r;const a=v.get(y);try{return(await w.get(`${E}/EmployeTaskRoute/CompletedTask`,{params:{page:i,limit:t,search:o},headers:{Authorization:`Bearer ${a}`}})).data}catch(e){throw console.error("Error fetching tasks:",e),((r=e.response)==null?void 0:r.data)||"Error fetching completed tasks"}};function M({children:i}){const{darkMode:t,activeTab:o,setActiveTab:a,navigationArray:r,showMiniNav:e,setShowMiniNav:n}=S(),l=d.useRef(null),[C,u]=d.useState(!1),[m,A]=d.useState(!1);d.useEffect(()=>{const p=()=>{if(l.current){const{scrollTop:h}=l.current;h>1?(u(!0),console.log(`on:${h}`)):(u(!1),console.log(`off:${h}`))}},c=l.current;return c&&c.addEventListener("scroll",p),()=>{c&&c.removeEventListener("scroll",p)}},[]);const f=()=>{A(!m)};return x(g,{container:!0,sx:{height:"100vh",background:t?"#010101":"#fff",overflow:"hidden"},children:[s(g,{item:!0,xs:0,md:0,lg:2.5,sx:{display:{xs:"none",lg:"block"},height:"92vh",overflowY:"auto"},children:s(k,{darkMode:t,activeTab:o,setActiveTab:a,routes:r,showMiniNav:e,setShowMiniNav:n})}),x(g,{item:!0,xs:12,md:12,lg:0,sx:{display:{xs:"block",lg:"none"}},children:[s(T,{edge:"start",color:"inherit","aria-label":"menu",onClick:f,sx:{ml:2,alignItems:"center",textAlign:"right"},children:s(b,{sx:{color:"#29315a"}})}),s($,{anchor:"left",open:m,onClose:f,sx:{"& .MuiDrawer-paper":{boxSizing:"border-box",width:250,mt:6}},children:s(k,{darkMode:t,activeTab:o,setActiveTab:a,routes:r,showMiniNav:e,setShowMiniNav:n})})]}),s(g,{item:!0,xs:12,md:12,lg:9.5,sx:{ml:{lg:"auto"},overflowY:"auto",height:"92vh"},ref:l,children:i})]})}export{M as D,L as a,I as g};
